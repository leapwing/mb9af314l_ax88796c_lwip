<!DOCTYPE html>
<html>
    <head>
        <title>Welcome to Fujitsu FM3</title>
		<link rel="stylesheet" href="style.css">
		<meta charset="utf-8">
    </head>
<body>

<script type="text/javascript" src="json2.js">
</script>
<script>
<!--
var xhr;
var xhrs;
var msie;
var LEDstatus;

if (window.ActiveXObject) {
	xhr = new ActiveXObject("Microsoft.XMLHTTP");
	xhrs = new ActiveXObject("Microsoft.XMLHTTP");
	msie = true;
    }
	else {
	xhr = new XMLHttpRequest();
	xhrs = new XMLHttpRequest();
	msie = false;
	}

function requestData() {
	xhr.open('get', 'ajax_data.json');
	if (msie == true) {
        xhr.setRequestHeader("If-Modified-Since", "Sat, 1 Jan 2000 00:00:00 GMT"); 
    }
    xhr.onreadystatechange = processResponse;
    xhr.send(null);
}

function processResponse() {
    if (xhr.readyState == 4  && xhr.status == 200){
		myJO = JSON.parse(xhr.responseText); // my JSON Object
		if (myJO.l=="0")
			document.getElementById("LEDgn").className="led_green_off";
		else
			document.getElementById("LEDgn").className="led_green_on";
	}
	
}

function LedOff() {
    xhrs.open('get', 'input.cgi?ledval=0');
    xhrs.send();
    LEDstatus = false;
}

function LedOn() {
	xhrs.open('get', 'input.cgi?ledval=1');
    xhrs.send(); 
    LEDstatus = true;
}

function toggleLED() {
	if (LEDstatus == false)
        LedOn();
    else
        LedOff();
}
  
window.setInterval(requestData, 200);
-->
</script>
<noscript>
<h1>Please activate JavaScript for this site to work properly!</h1>
<p>
You will get real-time data updates and a better data presentation.
</p>
</noscript>

<h1>Welcome to FUJITSU FM3</h1>
<p>

This Webserver runs on an MB9BF618S microcontroller, a member of Fujitsu's FM3 family,<br>powered by the <a href="http://savannah.nongnu.org/projects/lwip/">LwIP (lightweight IP)</a> TCP/IP stack.
</p>
<p>
Here you see a website which refreshes its data from the microcontroller in background without the need to reload the whole page.
You can find a <a href="simple.shtml">simple website without the need for a JavaScript-capable webbrowser here</a>
</p>

<div class="container">
<h2>Controls on FSSDC-9B618-EVB</h2>
<p>Please press the "UP" button or "DOWN" button on the joystick to turn on or turn off the LED.
</p>

<div class="label">
<div id="LEDgn" class="led_green_off" onclick="javascript:toggleLED();"></div>
</div><br>
</div>


<p>

For more information, updates, code examples and documentation, please visit our website at <a href="http://www.fujitsu.com/cn/fss/mcu/32bit/fm3/">http://www.fujitsu.com/cn/fss/mcu/32bit/fm3/</a> .
</p>
<p>
The picture below is overview of the FSSDC-9B618-EVB evaluation board.
<img alt="big picture" src="img/bigpicture.jpg">
</p>
</body>
</html>  

